"use strict";var _StringfromCharCode=String.fromCharCode;Object.defineProperty(exports,"__esModule",{value:!0});const EventEmitter=require("events"),ansi_1=require("./ansi");class Tests extends EventEmitter{constructor(d){super(),this.TestFunctions={},this.Client=d,this.TestFunctions["TestList()"]=function(){var e="Test functions:\n";for(var f in this.TestFunctions)this.TestFunctions.hasOwnProperty(f)&&(e+="\t"+f+"\n");this.Client.print(e,!0)},this.TestFunctions["TestColors()"]=function(){var e,f="Colors and Styles\n-------------------------------------------------------------------------------------------\n";for(e=30;38>e;e++)f+="\x1B["+e+";0m"+e+"\x1B[0m ",f+="\x1B["+e+";1mBold\x1B[0m ",f+="\x1B["+e+";2mFaint\x1B[0m ",f+="\x1B["+e+";3mItalic\x1B[0m ",f+="\x1B["+e+";4mUnderline\x1B[0m ",f+="\x1B["+e+";5mFlash\x1B[0m ",f+="\x1B["+e+";7mInverse\x1B[0m ",f+="\x1B["+e+";8mConceal\x1B[0m ",f+="\x1B["+e+";9mStrikeout\x1B[0m ",f+="\x1B["+e+";21mDoubleUnderline\x1B[0m ",f+="\x1B["+e+";53mOverline\x1B[0m ",f+="\x1B["+e+";1;2;3;4;5;9;21;53mAll\x1B[0m",f+="\x1B[0m\n";for(e=40;48>e;e++)f+="\x1B["+e+";0m"+e+"\x1B[0m ",f+="\x1B["+e+";1mBold\x1B[0m ",f+="\x1B["+e+";2mFaint\x1B[0m ",f+="\x1B["+e+";3mItalic\x1B[0m ",f+="\x1B["+e+";4mUnderline\x1B[0m ",f+="\x1B["+e+";5mFlash\x1B[0m ",f+="\x1B["+e+";7mInverse\x1B[0m ",f+="\x1B["+e+";8mConceal\x1B[0m ",f+="\x1B["+e+";9mStrikeout\x1B[0m ",f+="\x1B["+e+";21mDoubleUnderline\x1B[0m ",f+="\x1B["+e+";53mOverline\x1B[0m ",f+="\x1B["+e+";1;2;3;4;5;9;21;53mAll\x1B[0m",f+="\x1B[0m\n";f+="-------------------------------------------------------------------------------------------\n",this.Client.print(f,!0)},this.TestFunctions["TestColorsDetails()"]=function(){var e="";this.Client.telnet.prompt&&(e="\n"),e+="Table for 16-color terminal escape sequences.\n",e+="\n",e+="Background        | Foreground colors\n",e+="------------------------------------------------------------------------------------\n";for(var f=40;47>=f;f++){for(var j in ansi_1.Ansi)if("number"==typeof ansi_1.Ansi[j]&&"Rapid"!=j){e+="None"==j?"\x1B[0m "+ansi_1.AnsiColorCode[f-10].toString().paddingRight(16)+" | ":"\x1B[0m "+j.paddingRight(16)+" | ";for(var k=30;37>=k;k++)e+="None"==j?"\x1B["+f+"m\x1B["+k+"m "+("["+k+"m").paddingRight(7):"\x1B["+f+"m\x1B["+ansi_1.Ansi[j]+";"+k+"m "+("["+ansi_1.Ansi[j]+";"+k+"m").paddingRight(7);e+="\x1B[0m\n"}e+="------------------------------------------------------------------------------------\n"}this.Client.print(e,!0)},this.TestFunctions["TestXTerm()"]=function(e){var f,j,k,l,m="";for("undefined"!=typeof e&&0<e.length&&(m+="Set Title: ",m+=e,m+="\x1B]0;",m+=e,m+="\x07\n"),m+="System colors:\n",l=0;8>l;l++)m+="\x1B[48;5;"+l+"m  ";for(m+="\x1B[0m\n",l=8;16>l;l++)m+="\x1B[48;5;"+l+"m  ";for(m+="\x1B[0m\n\n",m+="Color cube, 6x6x6:\n",j=0;6>j;j++){for(f=0;6>f;f++){for(k=0;6>k;k++)l=16+36*f+6*j+k,m+="\x1B[48;5;"+l+"m  ";m+="\x1B[0m "}m+="\n"}for(m+="Grayscale ramp:\n",l=232;256>l;l++)m+="\x1B[48;5;"+l+"m  ";m+="\x1B[0m\n",this.Client.print(m,!0)},this.TestFunctions["TestMXP()"]=function(){var e="Text Formatting\n";e+="\t\x1B[6z",e+="<!--Test-->&lt;!--Test--&gt;\n",e+="\t<!--Test>-->&lt;!--Test&gt;--&gt;\n",e+="\t<STRONG>STRONG</STRONG>\n",e+="\t<BOLD>BOLD</BOLD>\n",e+="\t<B>B</B>\n",e+="\t<I>I</I>\n",e+="\t<ITALIC>ITALIC</ITALIC>\n",e+="\t<EM>EM</EM>\n",e+="\t<U>U</U>\n",e+="\t<UNDERLINE>UNDERLINE</UNDERLINE>\n",e+="\t<S>S</S>\n",e+="\t<STRIKEOUT>STRIKEOUT</STRIKEOUT>\n",e+="\t<H>H</H>\n",e+="\t<HIGH>HIGH</HIGH>\n",e+="\t<C RED>C RED</C>\n",e+="\t<COLOR #F00>COLOR #F00</COLOR>\n",e+="\t<C Maroon>C Maroon</C>\n",e+="\t<COLOR #800000>COLOR #800000</COLOR>\n",e+="\t<H><C Maroon>H C Maroon</C></H>\n",e+="\t<H><COLOR #800000>H COLOR #800000</COLOR></H>\n",e+="\tRun <send PROMPT>TestMXPColors()</send> for a detailed list.\n",e+="\t<FONT \"Times New Roman\">FONT \"Times New Roman\"</FONT>\n",e+="\t<FONT \"Webdings\">FONT \"Webdings\"</FONT>\n",e+="\t<FONT COLOR=Red,Blink>FONT COLOR=Red,Blink</FONT>\n",e+="\t<FONT \"Times New Roman\" 24 RED GREEN>FONT \"Times New Roman\" 24 RED GREEN</FONT>\n",e+="Line Spacing\n",e+="\tNOBR<NOBR>\n",e+=" Continured<NOBR>\n",e+=" More\n",e+="\t<P>P\n",e+="\t1\n",e+="\t2\n",e+="\t3\n",e+="\t4</P>\n",e+="\tBR Line<BR>Break\n",e+="\tSBR Soft<SBR>Break\n",e+="Links\n",e+="\t<A \"http://shadowmud.com\">Click here for ShadowMUD</A> \n",e+="\t<send>test command</send>\n",e+="\t<send href=\"command2\">test command2</send>\n",e+="\t<send \"command1|command2|command3\" hint=\"click to see menu|Item 1|Item 2|Item 3\">this is a menu link</SEND>\n",e+="\t<SEND \"sample\" PROMPT EXPIRE=prompt>Prompt sample</SEND>\n",e+="\t<send PROMPT href=\"TestMXPExpire()\">&lt;EXPIRE&gt; - TestMXPExpire()</send> \n",e+="Horizontal Rule\n",e+="<hr>\n",e+="<hr>Text After\n",e+="Text Before<hr>\n",e+="<c red blue><hr></c>\n",e+="Text Before<hr>Text After\n",e+="Custom Element\n",e+="\t<!ELEMENT help '<send href=\"help &text;\">'>&lt;!ELEMENT help '&lt;send href=\"help &amp;text;\"&gt;'&gt;\n",e+="\t&lt;help&gt;test&lt;/help&gt; = <help>test</help>\n",e+="\t<!ELEMENT redbu '<c red><b><u>'>&lt;!ELEMENT redbu '&lt;c red&gt;&lt;b&gt;&lt;u&gt;'&gt;\n",e+="\t&lt;redbu&gt;test&lt;/redbu&gt; = <redbu>test</redbu>\n",e+="Etities\n",e+="\t&#243;&brvbar;&copy;&plusmn;&sup3;&para;&frac34;&infin;&Dagger;&dagger;&spades;&clubs;&hearts;&diams;\n",e+="Custom Entity\n",e+="\t<!ENTITY version \""+this.Client.version+"\">&lt;!ENTITY version \""+this.Client.version+"\"&gt;\n",e+="\t&amp;verison; = &version;\n",e+="\t&lt;V Hp&gt;<V Hp>100</V>&lt;/VAR&gt; &amp;Hp; = &Hp; &amp;hp; = &hp;\n",e+="\t&lt;VAR Sp&gt;<VAR Sp>200</VAR>&lt;/VAR&gt; &amp;Sp; = &Sp; &amp;sp; = &sp;\n",e+="Image\n",e+="default      <image logo.png URL=\"./../assets/\" w=133 h=40>\n",e+="align left <image logo.png URL=\"./../assets/\" align=left w=133 h=40> align left\n",e+="align right  <image logo.png URL=\"./../assets/\" align=right w=133 h=40> align right\n",e+="align top    <image logo.png URL=\"./../assets/\" align=top w=133 h=40> align top \n",e+="align middle <image logo.png URL=\"./../assets/\" align=middle w=133 h=40> align middle\n",e+="align bottom <image logo.png URL=\"./../assets/\" align=bottom w=133 h=40> align bottom\n",e+="map          <send showmap><image logo.png URL=\"./../assets/\" ismap w=133 h=40></send>\n",e+="<STAT Hp version Test>",e+="<GAUGE Hp version Test>",e+="\x1B[0z",this.Client.print(e,!0)},this.TestFunctions["TestSize()"]=function(){var e=this.Client.WindowSize,f=e.width+"x"+e.height+" ";e.width-=f.length;for(var j=0;j<e.width;j++)f+="w";for(var k=1;k<e.height;k++)f+="\n"+k;this.Client.print(f,!0)},this.TestFunctions["TestMXPExpire()"]=function(){this.Client.print("\t\x1B[6z<SEND \"sample\" PROMPT EXPIRE=prompt>Expire sample</SEND> <SEND \"sample\" PROMPT EXPIRE=prompt2>Expire sample2</SEND><EXPIRE prompt>\x1B[0z\n",!0)},this.TestFunctions["TestMXPColors()"]=function(){for(var e=["IndianRed","LightCoral","Salmon","DarkSalmon","LightSalmon","Crimson","Red","FireBrick","DarkRed","Pink","LightPink","HotPink","DeepPink","MediumVioletRed","PaleVioletRed","LightSalmon","Coral","Tomato","OrangeRed","DarkOrange","Orange","Gold","Yellow","LightYellow","LemonChiffon","LightGoldenrodYellow","PapayaWhip","Moccasin","PeachPuff","PaleGoldenrod","Khaki","DarkKhaki","Lavender","Thistle","Plum","Violet","Orchid","Fuchsia","Magenta","MediumOrchid","MediumPurple","BlueViolet","DarkViolet","DarkOrchid","DarkMagenta","Purple","Indigo","SlateBlue","DarkSlateBlue","MediumSlateBlue","GreenYellow","Chartreuse","LawnGreen","Lime","LimeGreen","PaleGreen","LightGreen","MediumSpringGreen","SpringGreen","MediumSeaGreen","SeaGreen","ForestGreen","Green","DarkGreen","YellowGreen","OliveDrab","Olive","DarkOliveGreen","MediumAquamarine","DarkSeaGreen","LightSeaGreen","DarkCyan","Teal","Aqua","Cyan","LightCyan","PaleTurquoise","Aquamarine","Turquoise","MediumTurquoise","DarkTurquoise","CadetBlue","SteelBlue","LightSteelBlue","PowderBlue","LightBlue","SkyBlue","LightSkyBlue","DeepSkyBlue","DodgerBlue","CornflowerBlue","MediumSlateBlue","RoyalBlue","Blue","MediumBlue","DarkBlue","Navy","MidnightBlue","Cornsilk","BlanchedAlmond","Bisque","NavajoWhite","Wheat","BurlyWood","Tan","RosyBrown","SandyBrown","Goldenrod","DarkGoldenrod","Peru","Chocolate","SaddleBrown","Sienna","Brown","Maroon","White","Snow","Honeydew","MintCream","Azure","AliceBlue","GhostWhite","WhiteSmoke","Seashell","Beige","OldLace","FloralWhite","Ivory","AntiqueWhite","Linen","LavenderBlush","MistyRose","Gainsboro","LightGrey","Silver","DarkGray","Gray","DimGray","LightSlateGray","SlateGray","DarkSlateGray","Black"],f="\x1B[6z",j=0,k=e.length-1;j<k;j++)f+=""+e[j]+": ",f+=Array(22-e[j].length).join(" "),f+="<C "+e[j]+">Fore</C> ",f+="<C black "+e[j]+">Back</C> ",f+="<h><C "+e[j]+">High</C></h> ",f+="<b><C "+e[j]+">Bold</C></b> ",f+="<C "+e[j]+">\x1B[1mAnsiBold\x1B[0m ",f+="\x1B[2mFaint\x1B[0m ",f+="\x1B[3mItalic\x1B[0m ",f+="\x1B[4mUnderline\x1B[0m ",f+="\x1B[5mFlash\x1B[0m ",f+="\x1B[7mInverse\x1B[0m ",f+="\x1B[8mConceal\x1B[0m ",f+="\x1B[9mStrikeout\x1B[0m ",f+="\x1B[21mDoubleUnderline\x1B[0m ",f+="\x1B[53mOverline\x1B[0m",f+="</C>\n";f+="Black: ",f+=Array(22-e[j].length).join(" "),f+="<C Black silver>Fore</C> ",f+="<C silver Black>Back</C> ",f+="<h><C Black silver>High</C></h> ",f+="<b><C Black silver>Bold</C></b> ",f+="<C Black silver>\x1B[1mAnsiBold\x1B[0m ",f+="\x1B[2mFaint\x1B[0m ",f+="\x1B[3mItalic\x1B[0m ",f+="\x1B[4mUnderline\x1B[0m ",f+="\x1B[5mFlash\x1B[0m ",f+="\x1B[7mInverse\x1B[0m ",f+="\x1B[8mConceal\x1B[0m ",f+="\x1B[9mStrikeout\x1B[0m ",f+="\x1B[21mDoubleUnderline\x1B[0m ",f+="\x1B[53mOverline\x1B[0m",f+="</C>\n",f+="\x1B[0z",this.Client.print(f,!0)},this.TestFunctions["TestMXPElements()"]=function(){var e="\x1B[6z";e+="Custom Element\n",e+="\t<!ELEMENT help '<send href=\"help &text;\">'>&lt;!ELEMENT help '&lt;send href=\"help &amp;text;\"&gt;'&gt;\n",e+="\t&lt;help&gt;test&lt;/help&gt; = <help>test</help>\n",e+="\t<!ELEMENT redbu '<c red><b><u>'>&lt;!ELEMENT redbu '&lt;c red&gt;&lt;b&gt;&lt;u&gt;'&gt;\n",e+="\t&lt;redbu&gt;test&lt;/redbu&gt; = <redbu>test</redbu>\n",e+="\x1B[0z",this.Client.print(e,!0)},this.TestFunctions["TestMXPLines()"]=function(){var e="\x1B[6z";e+="<!ELEMENT Auction '<FONT COLOR=red>' TAG=20 OPEN>",e+="\x1B[20zA nice shiny sword is being auctioned.\n",e+="\x1B[6z<Auction>Also, a gold ring is being auctioned.</Auction>",e+="<!ELEMENT Auction TAG=20>\n",e+="<!TAG 20 Fore=red>\n",e+="\x1B[20zA nice shiny sword is being auctioned.\n",e+="\x1B[6z<Auction>Also, a gold ring is being auctioned.</Auction>\n",e+="\x1B[6z<!TAG 20 Fore=blue>\n",e+="\x1B[20zA nice shiny sword is being auctioned.\n",e+="\x1B[6z<Auction>Also, a gold ring is being auctioned.</Auction>\n",e+="\x1B[0z",this.Client.print(e,!0)},this.TestFunctions["TestFANSI()"]=function(){var f,e="";for(e="\x01",f=3;6>=f;f++)e+=_StringfromCharCode(f);for(f=14;26>=f;f++)e+=_StringfromCharCode(f);for(f=28;31>=f;f++)e+=_StringfromCharCode(f);for(f=127;254>=f;f++)e+=_StringfromCharCode(f);e+="\n";var j=this.Client.parser.displayControlCodes;this.Client.parser.displayControlCodes=!0,this.Client.parser.emulateTerminal?(this.Client.parser.emulateTerminal=!1,this.Client.print(e,!0),this.Client.parser.emulateTerminal=!0,this.Client.print(e,!0)):(this.Client.print(e,!0),this.Client.parser.emulateTerminal=!0,this.Client.print(e,!0),this.Client.parser.emulateTerminal=!1),this.Client.parser.displayControlCodes=j},this.TestFunctions["TestMXP2()"]=function(){var e="\x1B[6z";e+="<!-- Elements to support the Automapper -->",e+="<!ELEMENT RName '<FONT COLOR=Red><B>' FLAG=\"RoomName\">",e+="<!ELEMENT RDesc FLAG='RoomDesc'>",e+="<!ELEMENT RExits '<FONT COLOR=Blue>' FLAG='RoomExit'>",e+="<!-- The next element is used to define a room exit link that sends ",e+="the exit direction to the MUD if the user clicks on it -->",e+="<!ELEMENT Ex '<SEND>'>",e+="<!ELEMENT Chat '<FONT COLOR=Gray>' OPEN>",e+="<!ELEMENT Gossip '<FONT COLOR=Cyan>' OPEN>",e+="<!-- in addition to standard HTML Color specifications, you can use ",e+="color attribute names such as blink -->",e+="<!ELEMENT ImmChan '<FONT COLOR=Red,Blink>'>",e+="<!ELEMENT Auction '<FONT COLOR=Purple>' OPEN>",e+="<!ELEMENT Group '<FONT COLOR=Blue>' OPEN>",e+="<!-- the next elements deal with the MUD prompt -->",e+="<!ELEMENT Prompt FLAG=\"Prompt\">",e+="<!ELEMENT Hp FLAG=\"Set hp\">",e+="<!ELEMENT MaxHp FLAG=\"Set maxhp\">",e+="<!ELEMENT Mana FLAG=\"Set mana\">",e+="<!ELEMENT MaxMana FLAG=\"Set maxmana\">",e+="<!-- now the MUD text -->",e+="<RName>The Main Temple</RName>\n",e+="<RDesc>This is the main hall of the MUD where everyone starts.\n",e+="Marble arches lead south into the town, and there is a <i>lovely</i>\n",e+="<send \"drink &text;\">fountain</send> in the center of the temple,</RDesc>\n",e+="<RExits>Exits: <Ex>N</Ex>, <Ex>S</Ex>, <Ex>E</Ex>, <Ex>W</Ex></RExits>\n\n",e+="<Prompt>[<Hp>100</Hp>/<MaxHp>120</MaxHp>hp <Mana>50</Mana>/<MaxMana>55</MaxMana>mana]</Prompt>\n<hr>",e+="<!ELEMENT boldtext '<COLOR &col;><B>' ATT='col=red'>",e+="<boldtext>This is bold red</boldtext>\n",e+="<boldtext col=blue>This is bold blue text</boldtext>\n",e+="<boldtext blue>This is also bold blue text</boldtext>\n",e+="\x1B[0z",this.Client.print(e,!0)},this.TestFunctions["TestURLDetect()"]=function(){var e="\x1B[0mhttp://www.google.com\n";e+="\thttp://www.google.com\x1B[44m\n",e+="http://www.google.com\n",e+="\ttry this http://www.google.com\n",e+="http://www.google.com trye this\n",e+="\ttry this http://www.google.com try this\n",e+="\x1B[36mhttp://www.google.com\n",e+="\t\x1B[0mhttp://www.google.com\n",e+="http://www.google.com\x1B[44m\n",e+="\thttp://www.google.com\n",e+="try this http://www.google.com\n",e+="\thttp://www.google.com trye this\n",e+="try this http://www.google.com try this\n",e+="\t\x1B[36mhttp://www.google.com\n",e+="\thttps://localhost telnet://localhost\n",e+="\tnews://test.edu/default.asp?t=1#1111 torrent://localhost/\n",e+="\tftp://localhost gopher://localhost im://talk\n",e+="\tmailto:address@localhost irc://<host>[:<port>]/[<channel>[?<password>]]\n",e+="awww... www.google.com awww.com\n",e+="www.google.com www.google.com\x1B[0m",this.Client.print(e,!0)},this.TestFunctions["TestXTermRGB()"]=function(){var e="",f,j,k,l=0;for(f=0;256>f;f+=16)for(j=0;256>j;j+=16)for(k=0;256>k;k+=16)e+="\x1B[48;2;"+f+";"+j+";"+k+"m  ",0==l%63&&(e+="\n"),l++;e+="\x1B[0m",this.Client.print(e,!0)}}}exports.Tests=Tests;