"use strict";var _Mathfloor=Math.floor,_Stringprototype=String.prototype;Object.defineProperty(exports,"__esModule",{value:!0});const path=require("path"),{app}=require("electron").remote;function SortArrayByPrioity(c,d){return c.priority>d.priority?-1:c.priority<d.priority?1:0}exports.SortArrayByPrioity=SortArrayByPrioity;function FilterArrayByKeyValue(c,d,e){var f=[];if(!c||0===c.length)return f;for(var g=0,j=c.length;g<j;g++)c[g].enabled&&c[g][d]==e&&f.push(c[g]);return 1>=f.length?f:f.sort(SortArrayByPrioity)}exports.FilterArrayByKeyValue=FilterArrayByKeyValue;function htmlEncode(c){return $("<div/>").text(c).html()}exports.htmlEncode=htmlEncode;function htmlDecode(c){return $("<div/>").html(c).text()}exports.htmlDecode=htmlDecode;function stripHTML(c){var d=document.createElement("DIV");return d.innerHTML=c,d.textContent||d.innerText||""}exports.stripHTML=stripHTML;function stripParentheses(c){return c.replace(/(^\()|(\)$)/g,"")}exports.stripParentheses=stripParentheses;function stripQuotes(c){return c=c.replace(/^"(.+(?="$))"$/,"$1"),c=c.replace(/^'(.+(?='$))'$/,"$1"),c}exports.stripQuotes=stripQuotes;function CharAllowedInURL(c,d){if(1<c.length)return!1;if("-"===c||"_"===c||"."===c||"~"===c||"!"===c||"*"===c||"'"===c||";"===c||":"===c||"@"===c||"&"===c||"="===c||"+"===c||"$"===c||","===c||"/"===c||"?"===c||"%"===c||"#"===c||"["===c||"]"===c||"("===c||")"===c)return!d;var e=c.charCodeAt(0);return 64<e&&91>e||96<e&&123>e||47<e&&58>e}exports.CharAllowedInURL=CharAllowedInURL,exports.keyCodeToChar={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",19:"Pause/Break",20:"Caps Lock",21:"Kana",22:"Eisu",23:"Junja",24:"Final",25:"Hanja",27:"Esc",28:"Convert",29:"Nonconvert",30:"Accept",31:"Modechange",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",41:"Select",42:"Print",43:"Execute",44:"Printscreen",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:"Colon",59:"Semicolon",60:"Less Than",61:"Equals2",62:"Greater Than",63:"Question Mark",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",93:"Context Menu",95:"Sleep",96:"Numpad 0",97:"Numpad 1",98:"Numpad 2",99:"Numpad 3",100:"Numpad 4",101:"Numpad 5",102:"Numpad 6",103:"Numpad 7",104:"Numpad 8",105:"Numpad 9",106:"Numpad *",107:"Numpad +",109:"Numpad -",110:"Numpad .",111:"Numpad /",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"Num Lock",145:"Scroll Lock",146:"Win Oem Fj Jisho",147:"Win Oem Fj Masshou",148:"Win Oem Fj Touroku",149:"Win Oem Fj Loya",150:"Win Oem Fj Roya",160:"Circumflex",161:"Exclamation",162:"Double Quote",163:"Hash",164:"Dollar",165:"Percent",166:"Ampersand",167:"Underscore",168:"Open Paren",169:"Close Paren",170:"Asterisk",171:"Plus",172:"Pipe",173:"Hyphen Minus",174:"Open Curly Bracket",175:"Close Curly Bracket",176:"Tilde",181:"Volume Mute",182:"Volume Down",183:"Volume Up",186:";",187:"Equals",188:",",189:"Minus",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",227:"Win Ico Help",228:"Win Ico 00",230:"Win Ico Clear",233:"Win Oem Reset",234:"Win Oem Jump",235:"Win Oem Pa1",236:"Win Oem Pa2",237:"Win Oem Pa3",238:"Win Oem Wsctrl",239:"Win Oem Cusel",240:"Win Oem Attn",241:"Win Oem Finish",242:"Win Oem Copy",243:"Win Oem Auto",244:"Win Oem Enlw",245:"Win Oem Backtab",246:"Attn",247:"Crsel",248:"Exsel",249:"Ereof",250:"Play",251:"Zoom",253:"Pa1",254:"Win Oem Clear"},exports.keyCharToCode={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,Cancel:3,Help:6,Backspace:8,Tab:9,"Pause/Break":19,"Caps Lock":20,Esc:27,Space:32,"Page Up":33,"Page Down":34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Delete:46,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,"Numpad 0":96,"Numpad 1":97,"Numpad 2":98,"Numpad 3":99,"Numpad 4":100,"Numpad 5":101,"Numpad 6":102,"Numpad 7":103,"Numpad 8":104,"Numpad 9":105,"Numpad *":106,"Numpad +":107,"Numpad -":109,"Numpad .":110,"Numpad /":111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"Num Lock":144,"Scroll Lock":145,";":186,",":188,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222,Kana:21,Eisu:22,Junja:23,Final:24,Hanja:25,Convert:28,Nonconvert:29,Accept:30,Modechange:31,Select:41,Print:42,Execute:43,Printscreen:44,Colon:58,Semicolon:59,"Less Than":60,Equals2:61,"Greater Than":62,"Question Mark":63,"Context Menu":93,Sleep:95,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,"Win Oem Fj Jisho":146,"Win Oem Fj Masshou":147,"Win Oem Fj Touroku":148,"Win Oem Fj Loya":149,"Win Oem Fj Roya":150,Circumflex:160,Exclamation:161,"Double Quote":162,Hash:163,Dollar:164,Percent:165,Ampersand:166,Underscore:167,"Open Paren":168,"Close Paren":169,Asterisk:170,Plus:171,Pipe:172,"Hyphen Minus":173,"Open Curly Bracket":174,"Close Curly Bracket":175,Tilde:176,"Volume Mute":181,"Volume Down":182,"Volume Up":183,Equals:187,Minus:189,"Win Ico Help":227,"Win Ico 00":228,"Win Ico Clear":230,"Win Oem Reset":233,"Win Oem Jump":234,"Win Oem Pa1":235,"Win Oem Pa2":236,"Win Oem Pa3":237,"Win Oem Wsctrl":238,"Win Oem Cusel":239,"Win Oem Attn":240,"Win Oem Finish":241,"Win Oem Copy":242,"Win Oem Auto":243,"Win Oem Enlw":244,"Win Oem Backtab":245,Attn:246,Crsel:247,Exsel:248,Ereof:249,Play:250,Zoom:251,Pa1:253,"Win Oem Clear":254};function clone(c){return JSON.parse(JSON.stringify(c))}exports.clone=clone;function setSelectionRange(c,d,e){if(c.setSelectionRange)c.focus(),c.setSelectionRange(d,e);else if(c.createTextRange){var f=c.createTextRange();f.collapse(!0),f.moveEnd("character",e),f.moveStart("character",d),f.select()}}exports.setSelectionRange=setSelectionRange,CanvasRenderingContext2D.prototype.fillRoundedRect=function(c,d,e,f,g){this.beginPath(),this.moveTo(c+g,d),this.lineTo(c+e-g,d),this.quadraticCurveTo(c+e,d,c+e,d+g),this.lineTo(c+e,d+f-g),this.quadraticCurveTo(c+e,d+f,c+e-g,d+f),this.lineTo(c+g,d+f),this.quadraticCurveTo(c,d+f,c,d+f-g),this.lineTo(c,d+g),this.quadraticCurveTo(c,d,c+g,d),this.closePath(),this.fill()},CanvasRenderingContext2D.prototype.strokeRoundedRect=function(c,d,e,f,g){this.beginPath(),this.moveTo(c+g,d),this.lineTo(c+e-g,d),this.quadraticCurveTo(c+e,d,c+e,d+g),this.lineTo(c+e,d+f-g),this.quadraticCurveTo(c+e,d+f,c+e-g,d+f),this.lineTo(c+g,d+f),this.quadraticCurveTo(c,d+f,c,d+f-g),this.lineTo(c,d+g),this.quadraticCurveTo(c,d,c+g,d),this.closePath(),this.stroke()},_Stringprototype.splice=function(c,d,e){return"undefined"==typeof e&&(e=0),this.slice(0,c)+d+this.slice(c+Math.abs(e))},_Stringprototype.paddingLeft=function(c){return"number"==typeof c&&(c=" ".repeat(c)),(c+this+"").slice(-c.length)},_Stringprototype.paddingRight=function(c){return"number"==typeof c?c<=this.length?this:(c=" ".repeat(c-this.length),this+c):c.length<=this.length?this:this+c.slice(-this.length)};class Size{constructor(c,d){this.width=0,this.height=0,this.width=c,this.height=d}}exports.Size=Size;function getTimeSpan(c){var d,e=[];return d=_Mathfloor(c/86400000),c-=86400000*d,0<d&&e.push(d+" days"),d=_Mathfloor(c/3600000),c-=3600000*d,0<d&&e.push(d+" hours"),d=_Mathfloor(c/60000),c-=60000*d,0<d&&e.push(d+" minutes"),d=_Mathfloor(c/1e3),c-=1e3*d,0<d&&e.push(d+" seconds"),0===e.length&&e.push("0 seconds"),e.join(", ")}exports.getTimeSpan=getTimeSpan;function parseTemplate(c,d){if(c=c.replace(/{home}/g,app.getPath("home")),c=c.replace(/{path}/g,app.getAppPath()),c=c.replace(/{appData}/g,app.getPath("appData")),c=c.replace(/{data}/g,app.getPath("userData")),c=c.replace(/{temp}/g,app.getPath("temp")),c=c.replace(/{desktop}/g,app.getPath("desktop")),c=c.replace(/{documents}/g,app.getPath("documents")),c=c.replace(/{downloads}/g,app.getPath("downloads")),c=c.replace(/{music}/g,app.getPath("music")),c=c.replace(/{pictures}/g,app.getPath("pictures")),c=c.replace(/{videos}/g,app.getPath("videos")),c=c.replace(/{assets}/g,path.join(__dirname,"..","..","assets")),d){var e=Object.keys(d);for(var f in e){var g=new RegExp("{}"+f+"}","g");c=c.replace(g,d[f])}}return c}exports.parseTemplate=parseTemplate;function naturalCompare(c,d){var e=[],f=[];for(c.replace(/(\d+)|(\D+)/g,function(m,n,o){e.push([n||Infinity,o||""])}),d.replace(/(\d+)|(\D+)/g,function(m,n,o){f.push([n||Infinity,o||""])});e.length&&f.length;){var g=e.shift(),j=f.shift(),l=g[0]-j[0]||g[1].localeCompare(j[1]);if(l)return l}return e.length-f.length}exports.naturalCompare=naturalCompare;